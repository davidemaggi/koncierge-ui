@using Koncierge.Core
@using Koncierge.Core.K8s.Forwards
@using Koncierge.Core.K8s.Namespaces
@using Koncierge.Core.K8s
@using Koncierge.Ui.Components.Layout.Selects
@inject IKubernetesClientManager _kubeClients
@inject IKonciergeForwardManager _fwd

@if (!_loading){

    <NameSpaceSelect _kc="_kc" />


} else { 

    <MudProgressCircular Indeterminate="true" />

}



@code {

    [Parameter]
    public Guid cfgId { get; set; }

    [Parameter]
    public string? context { get; set; }

    private bool _loading { get; set; }

    private KonciergeClient _kc { get; set; }

    private List<string> ns=new();

    protected override async Task OnInitializedAsync()
    {
        _loading = true;


        _kc = await _kubeClients.GetClient(cfgId, context);


        _loading = false;


    }


  

}
